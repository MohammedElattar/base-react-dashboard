"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[253],{7253:(e,i,t)=>{t.r(i),t.d(i,{default:()=>h});var a=t(5043),r=t(2719),n=t(6444);const o=()=>(0,n.Ay)({email:(0,n.w_)({required:null}),password:(0,n.Fv)({min:null})});var s=t(7073);const l=()=>{const{dispatchLogin:e,loginSelector:i}=(0,s.o)(),{userInfo:t,isLoading:a,code:r}=i;return{handleLogin:async i=>{await e(i)},userInfo:t,isLoading:a,code:r}};var u=t(6762),d=t(3216),c=t(1210),m=t(6994),f=t(8270),v=t(579);const b=(0,a.lazy)((()=>t.e(163).then(t.bind(t,1163)))),h=()=>{const e=(0,d.Zp)();(0,a.useEffect)((()=>{(0,m.x3)()?e(c.Sg):(0,f.z)()}),[e]);const{handleLogin:i,isLoading:t,code:n}=l(),s=(0,r.eA)({initialValues:{email:"",password:""},validationSchema:o(),onSubmit:e=>i(e)});return(0,a.useEffect)((()=>{n===u.c.OK&&e(c.Sg,{replace:!0})}),[n]),(0,v.jsx)(b,{handleSubmit:s.handleSubmit,formikValues:s.values,handleChange:s.handleChange,formikErrors:s.errors,isSubmitting:t})}},2719:(e,i,t)=>{t.d(i,{fe:()=>f,dM:()=>m,eA:()=>c});var a=t(3892),r=t(5173),n=t.n(r);const o=e=>{let{initialValues:i,validationSchema:t,onSubmit:a,overrideConfig:r}=e;return{initialValues:i,validateOnBlur:!0,validateOnChange:!1,validateOnMount:!1,enableReinitialize:!0,validationSchema:t,onSubmit:a,...r}};o.propTypes={initialValues:n().object,validationSchema:n().object.isRequired,onSubmit:n().func.isRequired};const s=o;var l=t(6762),u=t(5431),d=t(9546);const c=e=>{const i=s(e);return(0,a.Wx)(i)},m=(e,i)=>{const{initialValues:t,setErrors:a}=i,r=Object.keys(t);if(e.code===l.c.VALIDATION_ERRORS){const i={};r.forEach((t=>{void 0!==e.data[t]&&(i[t]=e.data[t])})),(0,d.XY)(i)||a(i)}const n=Object.keys(e.data);for(let o=0;o<n.length;o++)if(!r.includes(n[o])){u.A.error(e.data[n[o]]);break}},f=e=>({setErrors:e.setErrors,initialValues:e.initialValues,setSubmitting:e.setSubmitting});c.propTypes={initialValues:n().object,validationSchema:n().object.isRequired,onSubmit:n().func.isRequired,overrideConfig:n().object}},6444:(e,i,t)=>{t.d(i,{Ay:()=>d,w_:()=>s,Fv:()=>u,j2:()=>l});var a=t(899);const r=e=>e instanceof File,n={file:(e,i)=>!!r(e)||i("field must be a valid file"),image:(e,i)=>{var t;console.log(e,e.size,e.type);const a=(null===e||void 0===e||null===(t=e.type)||void 0===t?void 0:t.split("/")[0])||null;return!(!r(e)||"image"!==a)||i({message:"field must be an image"})}},o=(e,i)=>{var t;return i&&Object.keys(i).forEach((t=>{i[t]?delete e[t]:e[t]=i[t]})),null===(t=Object.values(e))||void 0===t?void 0:t.filter((e=>!!e))},s=e=>o({required:"required",email:"email",trim:"trim"},e),l=e=>o({required:"required",max:"max:255",trim:"trim"},e),u=e=>o({required:"required",min:"min:8",trim:"trim"},e),d=e=>{let i=a.Ik().shape({});return Object.entries(e).forEach((e=>{let[t,r]=e;if(r){let e=a.Yj();r.forEach((i=>{const[t,...a]=i.split(":");e=void 0!==n[t]?e.test(t,"error",((e,i)=>{let{createError:r}=i;return n[t](e,r,...a)})):e[t](...a)})),i=i.shape({[t]:e})}})),i}}}]);
//# sourceMappingURL=253.b3f510a4.chunk.js.map